# INDRA CoGEx MCP Server - Environment Configuration
# Copy this file to .env and fill in your values

# ==============================================================================
# Neo4j Connection (Optional - for best performance)
# ==============================================================================
# If you have access to a Neo4j instance with INDRA CoGEx data:

# NEO4J_URL=bolt://localhost:7687
# NEO4J_USER=neo4j
# NEO4J_PASSWORD=your_password_here

# For remote Neo4j instance:
# NEO4J_URL=bolt://your-server.com:7687
# NEO4J_USER=neo4j
# NEO4J_PASSWORD=your_remote_password

# ==============================================================================
# REST API Fallback (Enabled by default)
# ==============================================================================
# Uses the public INDRA CoGEx REST API when Neo4j is not available

USE_REST_FALLBACK=true
REST_API_BASE=https://discovery.indra.bio
REST_TIMEOUT_SECONDS=30

# ==============================================================================
# Caching Configuration
# ==============================================================================
# Enable caching for frequently accessed entities (ontologies, gene info)

CACHE_ENABLED=true
CACHE_TTL_SECONDS=3600        # 1 hour cache lifetime
CACHE_MAX_SIZE=1000            # Maximum number of cached items

# ==============================================================================
# Logging Configuration
# ==============================================================================

LOG_LEVEL=INFO                 # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json                # json or text

# ==============================================================================
# Rate Limiting (Optional)
# ==============================================================================

RATE_LIMIT_ENABLED=true
MAX_REQUESTS_PER_MINUTE=60

# ==============================================================================
# Performance Tuning
# ==============================================================================

# Connection pool size for Neo4j
NEO4J_MAX_CONNECTION_POOL_SIZE=50

# HTTP client settings for REST API
HTTP_MAX_CONNECTIONS=100
HTTP_MAX_KEEPALIVE_CONNECTIONS=20

# Query timeouts (milliseconds)
QUERY_TIMEOUT_MS=5000
SIMPLE_QUERY_TIMEOUT_MS=1000
COMPLEX_QUERY_TIMEOUT_MS=30000

# ==============================================================================
# Feature Flags
# ==============================================================================

# Enable experimental features
ENABLE_EXPERIMENTAL_FEATURES=false

# Enable detailed error messages (disable in production)
DETAILED_ERRORS=true

# Include stack traces in errors (development only)
INCLUDE_STACK_TRACES=false

# ==============================================================================
# MCP Server Configuration
# ==============================================================================

# Server name displayed to clients
MCP_SERVER_NAME=indra-cogex-mcp

# Server version
MCP_SERVER_VERSION=1.0.0

# ==============================================================================
# Development Settings
# ==============================================================================

# Enable hot reload (development only)
# HOT_RELOAD=true

# Mock external services for testing
# MOCK_EXTERNAL_SERVICES=false

# Use test database
# USE_TEST_DATABASE=false

# ==============================================================================
# Monitoring & Telemetry (Optional)
# ==============================================================================

# Enable performance monitoring
# ENABLE_METRICS=false

# Metrics export endpoint
# METRICS_ENDPOINT=http://localhost:9090

# Enable request tracing
# ENABLE_TRACING=false

# ==============================================================================
# Security Settings
# ==============================================================================

# Enable API key authentication (if implementing auth)
# REQUIRE_API_KEY=false
# API_KEY=your_secret_api_key_here

# CORS settings (if exposing HTTP endpoint)
# CORS_ENABLED=true
# CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# ==============================================================================
# Notes
# ==============================================================================

# Connection Priority:
# 1. If NEO4J_URL and NEO4J_PASSWORD are set → Use Neo4j (best performance)
# 2. If USE_REST_FALLBACK=true → Use REST API (public access, slower)
# 3. If neither configured → Error

# Recommended Setup:
# - Development: Use REST API fallback (no setup required)
# - Production: Use Neo4j connection (requires INDRA CoGEx database)

# Neo4j Setup:
# To set up your own INDRA CoGEx Neo4j database:
# 1. git clone https://github.com/gyorilab/indra_cogex.git
# 2. cd indra_cogex
# 3. python -m indra_cogex.sources  # Build knowledge graph
# 4. sh import.sh                    # Import to Neo4j
# See: https://github.com/gyorilab/indra_cogex for details
